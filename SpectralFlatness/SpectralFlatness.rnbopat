{
    "patcher": {
        "fileversion": 1,
        "appversion": {
            "major": 9,
            "minor": 1,
            "revision": 1,
            "architecture": "x64",
            "modernui": 1
        },
        "classnamespace": "rnbo",
        "rect": [ 34.0, 87.0, 1329.0, 779.0 ],
        "default_fontname": "Lato",
        "title": "SpectralFlatness",
        "boxes": [
            {
                "box": {
                    "id": "obj-24",
                    "linecount": 23,
                    "maxclass": "comment",
                    "numinlets": 1,
                    "numoutlets": 0,
                    "patching_rect": [ 1463.0, 62.0, 150.0, 338.0 ],
                    "text": "can't poll spec flatness during same execution cycle that audio input is first received due to the processing latency.\n\npolling 2.5 - 4x fft buffer size samples after initial playback trigger is observed to provide reliable spec flatness results across I/O buffer sizes.\n\nThis is presumably b/c we're waiting after the initial noisy attack transient once the sample's frequency has settled, providing more accurate flatness analysis.\n\n<------"
                }
            },
            {
                "box": {
                    "id": "obj-34",
                    "maxclass": "newobj",
                    "numinlets": 1,
                    "numoutlets": 0,
                    "patching_rect": [ 1423.1111056804657, 444.0, 36.0, 23.0 ],
                    "rnbo_classname": "out",
                    "rnbo_extra_attributes": {
                        "meta": "",
                        "comment": "Poll Delay (ms)"
                    },
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "out_obj-34",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "index": {
                                "attrOrProp": 2,
                                "digest": "outlet number",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "mandatory": 1
                            },
                            "comment": {
                                "attrOrProp": 2,
                                "digest": "mouse over comment",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol"
                            },
                            "meta": {
                                "attrOrProp": 2,
                                "digest": "A JSON formatted string containing metadata for use by the exported code",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "defaultValue": "",
                                "label": "Metadata",
                                "displayorder": 3
                            }
                        },
                        "inputs": [
                            {
                                "name": "in1",
                                "type": [ "bang", "number", "list" ],
                                "digest": "value sent to outlet with index 2",
                                "displayName": "Poll Delay (ms)",
                                "hot": 1,
                                "docked": 0
                            }
                        ],
                        "outputs": [],
                        "helpname": "out",
                        "aliasOf": "out",
                        "classname": "out",
                        "operator": 0,
                        "versionId": 1131826829,
                        "changesPatcherIO": 1
                    },
                    "text": "out 2"
                }
            },
            {
                "box": {
                    "id": "obj-31",
                    "maxclass": "flonum",
                    "numinlets": 1,
                    "numoutlets": 2,
                    "outlettype": [ "", "bang" ],
                    "parameter_enable": 0,
                    "patching_rect": [ 1366.1818172931671, 380.5, 74.74747109413147, 23.0 ],
                    "rnbo_classname": "number",
                    "rnbo_extra_attributes": {
                        "minimum": "<none>",
                        "initialFormat": "float",
                        "preset": 0,
                        "maximum": "<none>",
                        "order": ""
                    },
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "number_obj-31"
                }
            },
            {
                "box": {
                    "id": "obj-29",
                    "maxclass": "newobj",
                    "numinlets": 2,
                    "numoutlets": 1,
                    "outlettype": [ "" ],
                    "patching_rect": [ 1366.1818172931671, 330.0, 73.0, 23.0 ],
                    "rnbo_classname": "snapshot~",
                    "rnbo_extra_attributes": {
                        "mode": 0.0
                    },
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "snapshot~_obj-29",
                    "text": "snapshot~ 1"
                }
            },
            {
                "box": {
                    "id": "obj-28",
                    "maxclass": "newobj",
                    "numinlets": 2,
                    "numoutlets": 1,
                    "outlettype": [ "" ],
                    "patching_rect": [ 1311.0, 444.0, 84.0, 23.0 ],
                    "rnbo_classname": "delay",
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "delay_obj-28",
                    "text": "delay 42.6667"
                }
            },
            {
                "box": {
                    "fontface": 0,
                    "fontname": "Lato",
                    "fontsize": 12.0,
                    "id": "obj-27",
                    "interval": 100.0,
                    "maxclass": "number~",
                    "mode": 2,
                    "numinlets": 2,
                    "numoutlets": 2,
                    "outlettype": [ "signal", "float" ],
                    "patching_rect": [ 1366.1818172931671, 285.0, 92.92928838729858, 23.0 ],
                    "rnbo_classname": "number~",
                    "rnbo_extra_attributes": {
                        "displaymode": "first",
                        "interval": 100.0,
                        "initialMode": "monitor"
                    },
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "number~_obj-27",
                    "sig": 0.0
                }
            },
            {
                "box": {
                    "id": "obj-16",
                    "maxclass": "newobj",
                    "numinlets": 1,
                    "numoutlets": 1,
                    "outlettype": [ "" ],
                    "patching_rect": [ 843.0, 73.0, 60.0, 23.0 ],
                    "rnbo_classname": "set",
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "set_obj-16",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "name": {
                                "attrOrProp": 2,
                                "digest": "attribute/param to control",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "mandatory": 1
                            }
                        },
                        "inputs": [
                            {
                                "name": "input",
                                "type": [ "bang", "number", "list", "signal" ],
                                "digest": "attribute or parameter value (bang, number, list)",
                                "hot": 1,
                                "docked": 0
                            }
                        ],
                        "outputs": [
                            {
                                "name": "output",
                                "type": [ "bang", "number", "list", "signal" ],
                                "digest": "connect to first inlet of gen or subpatcher",
                                "docked": 0
                            }
                        ],
                        "helpname": "set",
                        "aliasOf": "set",
                        "classname": "set",
                        "operator": 0,
                        "versionId": 1197449671,
                        "changesPatcherIO": 0
                    },
                    "text": "set fftsize"
                }
            },
            {
                "box": {
                    "id": "obj-17",
                    "maxclass": "newobj",
                    "numinlets": 0,
                    "numoutlets": 1,
                    "outlettype": [ "" ],
                    "patching_rect": [ 843.0, 43.0, 130.0, 23.0 ],
                    "rnbo_classname": "receive",
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "receive_obj-17",
                    "text": "receive local:set_fftsize"
                }
            },
            {
                "box": {
                    "id": "obj-15",
                    "maxclass": "button",
                    "numinlets": 1,
                    "numoutlets": 1,
                    "outlettype": [ "bang" ],
                    "parameter_enable": 0,
                    "patching_rect": [ 799.0, 393.0, 24.0, 24.0 ],
                    "rnbo_classname": "button",
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "button_obj-15"
                }
            },
            {
                "box": {
                    "id": "obj-57",
                    "linecount": 5,
                    "maxclass": "comment",
                    "numinlets": 1,
                    "numoutlets": 0,
                    "patching_rect": [ 921.0, 372.0, 150.0, 78.0 ],
                    "text": "<---is there any risk to doing this in terms of nonsynchronous notification of format change?"
                }
            },
            {
                "box": {
                    "id": "obj-18",
                    "maxclass": "flonum",
                    "numinlets": 1,
                    "numoutlets": 2,
                    "outlettype": [ "", "bang" ],
                    "parameter_enable": 0,
                    "patching_rect": [ 843.0, 405.0, 74.74747109413147, 23.0 ],
                    "rnbo_classname": "number",
                    "rnbo_extra_attributes": {
                        "minimum": "<none>",
                        "initialFormat": "float",
                        "preset": 0,
                        "maximum": "<none>",
                        "order": ""
                    },
                    "rnbo_serial": 2,
                    "rnbo_uniqueid": "number_obj-18"
                }
            },
            {
                "box": {
                    "id": "obj-20",
                    "maxclass": "newobj",
                    "numinlets": 2,
                    "numoutlets": 1,
                    "outlettype": [ "" ],
                    "patching_rect": [ 843.0, 370.0, 73.0, 23.0 ],
                    "rnbo_classname": "snapshot~",
                    "rnbo_extra_attributes": {
                        "mode": 0.0
                    },
                    "rnbo_serial": 2,
                    "rnbo_uniqueid": "snapshot~_obj-20",
                    "text": "snapshot~ 1"
                }
            },
            {
                "box": {
                    "fontface": 0,
                    "fontname": "Lato",
                    "fontsize": 12.0,
                    "id": "obj-21",
                    "interval": 100.0,
                    "maxclass": "number~",
                    "mode": 2,
                    "numinlets": 2,
                    "numoutlets": 2,
                    "outlettype": [ "signal", "float" ],
                    "patching_rect": [ 872.0, 330.0, 92.92928838729858, 23.0 ],
                    "rnbo_classname": "number~",
                    "rnbo_extra_attributes": {
                        "displaymode": "first",
                        "interval": 100.0,
                        "initialMode": "monitor"
                    },
                    "rnbo_serial": 2,
                    "rnbo_uniqueid": "number~_obj-21",
                    "sig": 0.0
                }
            },
            {
                "box": {
                    "code": "@param({min: 64, max: 2048}) fftsize = 64;\r\nvar samplerate = samplerate();\r\nvar vectorsize = vectorsize();\r\nvar msPerBuffer = (fftsize/samplerate) * 1000;\r\n//post(\"buffersize = \", buffersize, \" | samplerate = \", samplerate, \" | vectorsize/samplerate = \", msPerBuffer);\r\nvar input = in1; //have to create dummy input to allow fftsize param to be set via messages\r\n\r\n//see comment in patch to right about why we set pollDelay like below...\r\n//var pollDelay = msPerBuffer * 3; //works well\r\nvar pollDelay = msPerBuffer * 2.5; //works well, a little lower latency\r\n\r\nif (vectorsize() == 1024) {\r\n    pollDelay = (1024/samplerate) * 1000 * 3.5;\r\n    //pollDelay = msPerBuffer * 3.5; //good (if fftsize = 1024, but not if 512)\r\n}\r\nelse if (vectorsize() > 1024) {\r\n    //pollDelay = 86;\r\n    pollDelay = (((2048/samplerate) * 1000) * 2) + 1;\r\n}\r\nelse {\r\n    if (pollDelay < 42) {//works\r\n        pollDelay = 62;\r\n    }\r\n}\r\nout1 = msPerBuffer;\r\nout2 = pollDelay;",
                    "fontface": 0,
                    "fontname": "<Monospaced>",
                    "fontsize": 12.0,
                    "id": "obj-23",
                    "maxclass": "codebox~",
                    "numinlets": 1,
                    "numoutlets": 2,
                    "outlettype": [ "signal", "signal" ],
                    "patching_rect": [ 843.0, 105.0, 460.0, 203.0 ],
                    "rnbo_classname": "codebox~",
                    "rnbo_extra_attributes": {
                        "safemath": 1,
                        "code": "@param({min: 64, max: 2048}) fftsize = 64;\r\nvar samplerate = samplerate();\r\nvar vectorsize = vectorsize();\r\nvar msPerBuffer = (fftsize/samplerate) * 1000;\r\n//post(\"buffersize = \", buffersize, \" | samplerate = \", samplerate, \" | vectorsize/samplerate = \", msPerBuffer);\r\nvar input = in1; //have to create dummy input to allow fftsize param to be set via messages\r\n\r\n//see comment in patch to right about why we set pollDelay like below...\r\n//var pollDelay = msPerBuffer * 3; //works well\r\nvar pollDelay = msPerBuffer * 2.5; //works well, a little lower latency\r\n\r\nif (vectorsize() == 1024) {\r\n    pollDelay = (1024/samplerate) * 1000 * 3.5;\r\n    //pollDelay = msPerBuffer * 3.5; //good (if fftsize = 1024, but not if 512)\r\n}\r\nelse if (vectorsize() > 1024) {\r\n    //pollDelay = 86;\r\n    pollDelay = (((2048/samplerate) * 1000) * 2) + 1;\r\n}\r\nelse {\r\n    if (pollDelay < 42) {//works\r\n        pollDelay = 62;\r\n    }\r\n}\r\nout1 = msPerBuffer;\r\nout2 = pollDelay;",
                        "expr": "",
                        "nocache": 0
                    },
                    "rnbo_serial": 4,
                    "rnbo_uniqueid": "codebox~_obj-23",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "reset": {
                                "attrOrProp": 1,
                                "digest": "Reset all state and params to initial values",
                                "isalias": 0,
                                "aliases": [],
                                "attachable": 1,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bang"
                            },
                            "in1": {
                                "attrOrProp": 1,
                                "digest": "in1",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "inlet": 1,
                                "type": "number"
                            },
                            "out1": {
                                "attrOrProp": 1,
                                "digest": "out1",
                                "isalias": 0,
                                "aliases": [],
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "outlet": 1,
                                "type": "signal"
                            },
                            "out2": {
                                "attrOrProp": 1,
                                "digest": "out2",
                                "isalias": 0,
                                "aliases": [],
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "outlet": 1,
                                "type": "signal"
                            },
                            "fftsize": {
                                "attrOrProp": 1,
                                "digest": "fftsize",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 1,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "64"
                            },
                            "expr": {
                                "attrOrProp": 2,
                                "digest": "expr",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol"
                            },
                            "safemath": {
                                "attrOrProp": 2,
                                "digest": "Use safe math expressions (e.g.: division by 0 will not crash).",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bool",
                                "defaultValue": "true"
                            },
                            "nocache": {
                                "attrOrProp": 2,
                                "digest": "Do not use parsing cache. This is only useful with very very big code sizes. Code generation will then take a looooong time.",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bool",
                                "defaultValue": "false"
                            }
                        },
                        "inputs": [
                            {
                                "name": "in1",
                                "type": "auto",
                                "digest": "in1",
                                "hot": 1,
                                "docked": 0
                            }
                        ],
                        "outputs": [
                            {
                                "name": "out1",
                                "type": "signal",
                                "digest": "out1",
                                "docked": 0
                            },
                            {
                                "name": "out2",
                                "type": "signal",
                                "digest": "out2",
                                "docked": 0
                            }
                        ],
                        "helpname": "codebox~",
                        "aliasOf": "expr~",
                        "classname": "codebox~",
                        "operator": 0,
                        "versionId": 527839773,
                        "changesPatcherIO": 0
                    }
                }
            },
            {
                "box": {
                    "id": "obj-14",
                    "maxclass": "newobj",
                    "numinlets": 1,
                    "numoutlets": 1,
                    "outlettype": [ "" ],
                    "patching_rect": [ 572.0, 96.0, 67.0, 23.0 ],
                    "rnbo_classname": "loadmess",
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "loadmess_obj-14",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "input": {
                                "attrOrProp": 1,
                                "digest": "Bang to trigger message.",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 0,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "inlet": 1,
                                "type": "bang"
                            },
                            "message": {
                                "attrOrProp": 1,
                                "digest": "Message when patcher is loaded.",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "outlet": 1,
                                "type": "list",
                                "defaultValue": ""
                            },
                            "startupbang": {
                                "attrOrProp": 1,
                                "digest": "startupbang",
                                "isalias": 0,
                                "aliases": [],
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bang"
                            }
                        },
                        "inputs": [
                            {
                                "name": "input",
                                "type": "bang",
                                "digest": "Bang to trigger message.",
                                "hot": 1,
                                "docked": 0
                            }
                        ],
                        "outputs": [
                            {
                                "name": "message",
                                "type": "list",
                                "digest": "Message when patcher is loaded.",
                                "defaultarg": 1,
                                "docked": 0
                            }
                        ],
                        "helpname": "loadmess",
                        "aliasOf": "loadmess",
                        "classname": "loadmess",
                        "operator": 0,
                        "versionId": -361086158,
                        "changesPatcherIO": 0
                    },
                    "text": "loadmess 1"
                }
            },
            {
                "box": {
                    "id": "obj-13",
                    "maxclass": "toggle",
                    "numinlets": 1,
                    "numoutlets": 1,
                    "outlettype": [ "int" ],
                    "parameter_enable": 0,
                    "patching_rect": [ 572.0, 135.0, 24.0, 24.0 ],
                    "rnbo_classname": "toggle",
                    "rnbo_extra_attributes": {
                        "preset": 0,
                        "order": ""
                    },
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "toggle_obj-13"
                }
            },
            {
                "box": {
                    "id": "obj-12",
                    "maxclass": "newobj",
                    "numinlets": 0,
                    "numoutlets": 1,
                    "outlettype": [ "" ],
                    "patching_rect": [ 1323.0, 355.0, 28.0, 23.0 ],
                    "rnbo_classname": "in",
                    "rnbo_extra_attributes": {
                        "meta": "",
                        "comment": "Poll (Once)"
                    },
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "in_obj-12",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "index": {
                                "attrOrProp": 2,
                                "digest": "inlet number",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "mandatory": 1
                            },
                            "comment": {
                                "attrOrProp": 2,
                                "digest": "mouse over comment",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol"
                            },
                            "meta": {
                                "attrOrProp": 2,
                                "digest": "A JSON formatted string containing metadata for use by the exported code",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "defaultValue": "",
                                "label": "Metadata",
                                "displayorder": 3
                            }
                        },
                        "inputs": [],
                        "outputs": [
                            {
                                "name": "out1",
                                "type": [ "bang", "number", "list" ],
                                "digest": "value from inlet with index 4",
                                "displayName": "Poll (Once)",
                                "docked": 0
                            }
                        ],
                        "helpname": "in",
                        "aliasOf": "in",
                        "classname": "in",
                        "operator": 0,
                        "versionId": 475235762,
                        "changesPatcherIO": 1
                    },
                    "text": "in 4"
                }
            },
            {
                "box": {
                    "id": "obj-10",
                    "maxclass": "toggle",
                    "numinlets": 1,
                    "numoutlets": 1,
                    "outlettype": [ "int" ],
                    "parameter_enable": 0,
                    "patching_rect": [ 1106.0, 380.0, 24.0, 24.0 ],
                    "rnbo_classname": "toggle",
                    "rnbo_extra_attributes": {
                        "preset": 0,
                        "order": ""
                    },
                    "rnbo_serial": 2,
                    "rnbo_uniqueid": "toggle_obj-10"
                }
            },
            {
                "box": {
                    "id": "obj-75",
                    "maxclass": "newobj",
                    "numinlets": 1,
                    "numoutlets": 1,
                    "outlettype": [ "" ],
                    "patching_rect": [ 1104.0, 447.0, 81.0, 23.0 ],
                    "rnbo_classname": "set",
                    "rnbo_serial": 2,
                    "rnbo_uniqueid": "set_obj-75",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "name": {
                                "attrOrProp": 2,
                                "digest": "attribute/param to control",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "mandatory": 1
                            }
                        },
                        "inputs": [
                            {
                                "name": "input",
                                "type": [ "bang", "number", "list", "signal" ],
                                "digest": "attribute or parameter value (bang, number, list)",
                                "hot": 1,
                                "docked": 0
                            }
                        ],
                        "outputs": [
                            {
                                "name": "output",
                                "type": [ "bang", "number", "list", "signal" ],
                                "digest": "connect to first inlet of gen or subpatcher",
                                "docked": 0
                            }
                        ],
                        "helpname": "set",
                        "aliasOf": "set",
                        "classname": "set",
                        "operator": 0,
                        "versionId": 1197449671,
                        "changesPatcherIO": 0
                    },
                    "text": "set needs_init"
                }
            },
            {
                "box": {
                    "id": "obj-74",
                    "maxclass": "newobj",
                    "numinlets": 2,
                    "numoutlets": 2,
                    "outlettype": [ "", "" ],
                    "patching_rect": [ 1104.0, 416.0, 195.0, 23.0 ],
                    "rnbo_classname": "param",
                    "rnbo_extra_attributes": {
                        "displayname": "",
                        "tonormalized": "",
                        "exponent": 1.0,
                        "displayorder": "-",
                        "meta": "",
                        "preset": 1,
                        "sendinit": 1,
                        "enum": "",
                        "unit": "",
                        "fromnormalized": "",
                        "steps": 0.0,
                        "order": "0",
                        "ctlin": 0.0
                    },
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "needs_init",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "value": {
                                "attrOrProp": 1,
                                "digest": "Parameter value",
                                "defaultarg": 2,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 1,
                                "deprecated": 0,
                                "touched": 0,
                                "inlet": 1,
                                "type": "number",
                                "defaultValue": "1"
                            },
                            "normalizedvalue": {
                                "attrOrProp": 1,
                                "digest": "Set value normalized. ",
                                "isalias": 0,
                                "aliases": [],
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "inlet": 1,
                                "type": "number"
                            },
                            "reset": {
                                "attrOrProp": 1,
                                "digest": "Reset param to initial value",
                                "isalias": 0,
                                "aliases": [],
                                "attachable": 1,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bang"
                            },
                            "normalized": {
                                "attrOrProp": 1,
                                "digest": "Normalized parameter value.",
                                "isalias": 0,
                                "aliases": [],
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "outlet": 1,
                                "type": "number"
                            },
                            "name": {
                                "attrOrProp": 2,
                                "digest": "Name of the parameter",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "label": "Parameter Name",
                                "mandatory": 1
                            },
                            "enum": {
                                "attrOrProp": 2,
                                "digest": "Use an enumerated output",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "list",
                                "label": "Enum Values",
                                "displayorder": 6
                            },
                            "minimum": {
                                "attrOrProp": 2,
                                "digest": "Minimum value",
                                "isalias": 0,
                                "aliases": [ "min" ],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "0",
                                "label": "Minimum",
                                "displayorder": 1
                            },
                            "min": {
                                "attrOrProp": 2,
                                "digest": "Minimum value",
                                "isalias": 1,
                                "aliasOf": "minimum",
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "0",
                                "label": "Minimum",
                                "displayorder": 1
                            },
                            "maximum": {
                                "attrOrProp": 2,
                                "digest": "Maximum value",
                                "isalias": 0,
                                "aliases": [ "max" ],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "1",
                                "label": "Maximum",
                                "displayorder": 2
                            },
                            "max": {
                                "attrOrProp": 2,
                                "digest": "Maximum value",
                                "isalias": 1,
                                "aliasOf": "maximum",
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "1",
                                "label": "Maximum",
                                "displayorder": 2
                            },
                            "exponent": {
                                "attrOrProp": 2,
                                "digest": "Scale values exponentially",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "1",
                                "label": "Exponent",
                                "displayorder": 7
                            },
                            "steps": {
                                "attrOrProp": 2,
                                "digest": "Divide the output into a number of discrete steps",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "0",
                                "label": "Steps",
                                "displayorder": 8
                            },
                            "displayName": {
                                "attrOrProp": 2,
                                "digest": "DEPRECATED: Use the lower case 'displayname' instead",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 1,
                                "touched": 0,
                                "type": "symbol",
                                "label": "Display Name"
                            },
                            "displayname": {
                                "attrOrProp": 2,
                                "digest": "A more readable name for the parameter in an external RNBO target",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "defaultValue": "",
                                "label": "Display Name",
                                "displayorder": 14
                            },
                            "unit": {
                                "attrOrProp": 2,
                                "digest": "A symbol to describe the unit of the parameter in an external RNBO target",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "defaultValue": "",
                                "label": "Unit",
                                "displayorder": 15
                            },
                            "tonormalized": {
                                "attrOrProp": 2,
                                "digest": "Converts a real parameter value to its normalized form",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "label": "To Normalized Expression",
                                "displayorder": 10
                            },
                            "fromnormalized": {
                                "attrOrProp": 2,
                                "digest": "Converts a normalized parameter into its actual parameter value",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "label": "From Normalized Expression",
                                "displayorder": 9
                            },
                            "order": {
                                "attrOrProp": 2,
                                "digest": "Order in which initial parameter values will be sent out on patcher load. The order can be numeric or symbolic ('first' and 'last')",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "defaultValue": "0",
                                "label": "Restore Order",
                                "displayorder": 12
                            },
                            "displayorder": {
                                "attrOrProp": 2,
                                "digest": "Order in which parameters will show up in a list of all parameters. The order can be numeric or symbolic ('first' and 'last')",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "defaultValue": "-",
                                "label": "Display Order",
                                "displayorder": 13
                            },
                            "sendinit": {
                                "attrOrProp": 2,
                                "digest": "Send initial value",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bool",
                                "defaultValue": "true",
                                "label": "Send Init",
                                "displayorder": 4
                            },
                            "ctlin": {
                                "attrOrProp": 2,
                                "digest": "MIDI controller number to control this parameter.",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "-1",
                                "label": "MIDI Controller Number.",
                                "displayorder": 16
                            },
                            "meta": {
                                "attrOrProp": 2,
                                "digest": "A JSON formatted string containing metadata for use by the exported code",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "defaultValue": "",
                                "label": "Metadata",
                                "displayorder": 17
                            },
                            "nopreset": {
                                "attrOrProp": 2,
                                "digest": "Do not add this value to the preset [DEPRECATED - USE @preset 0 instead].",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 1,
                                "touched": 0,
                                "type": "bool",
                                "defaultValue": "false"
                            },
                            "preset": {
                                "attrOrProp": 2,
                                "digest": "Add this value to the preset.",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bool",
                                "defaultValue": "true",
                                "label": "Include In Preset",
                                "displayorder": 11
                            }
                        },
                        "inputs": [
                            {
                                "name": "value",
                                "type": "number",
                                "digest": "Parameter value",
                                "defaultarg": 2,
                                "hot": 1,
                                "docked": 0
                            },
                            {
                                "name": "normalizedvalue",
                                "type": "number",
                                "digest": "Set value normalized. ",
                                "docked": 0
                            }
                        ],
                        "outputs": [
                            {
                                "name": "value",
                                "type": "number",
                                "digest": "Parameter value",
                                "defaultarg": 2,
                                "hot": 1,
                                "docked": 0
                            },
                            {
                                "name": "normalized",
                                "type": "number",
                                "digest": "Normalized parameter value.",
                                "docked": 0
                            }
                        ],
                        "helpname": "param",
                        "aliasOf": "param",
                        "classname": "param",
                        "operator": 0,
                        "versionId": -1661410411,
                        "changesPatcherIO": 0
                    },
                    "text": "param needs_init 1 @min 0 @max 1",
                    "varname": "needs_init"
                }
            },
            {
                "box": {
                    "id": "obj-69",
                    "maxclass": "newobj",
                    "numinlets": 0,
                    "numoutlets": 1,
                    "outlettype": [ "" ],
                    "patching_rect": [ 1106.0, 346.0, 28.0, 23.0 ],
                    "rnbo_classname": "in",
                    "rnbo_extra_attributes": {
                        "meta": "",
                        "comment": "Reset"
                    },
                    "rnbo_serial": 2,
                    "rnbo_uniqueid": "in_obj-69",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "index": {
                                "attrOrProp": 2,
                                "digest": "inlet number",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "mandatory": 1
                            },
                            "comment": {
                                "attrOrProp": 2,
                                "digest": "mouse over comment",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol"
                            },
                            "meta": {
                                "attrOrProp": 2,
                                "digest": "A JSON formatted string containing metadata for use by the exported code",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "defaultValue": "",
                                "label": "Metadata",
                                "displayorder": 3
                            }
                        },
                        "inputs": [],
                        "outputs": [
                            {
                                "name": "out1",
                                "type": [ "bang", "number", "list" ],
                                "digest": "value from inlet with index 3",
                                "displayName": "Reset",
                                "docked": 0
                            }
                        ],
                        "helpname": "in",
                        "aliasOf": "in",
                        "classname": "in",
                        "operator": 0,
                        "versionId": 475235762,
                        "changesPatcherIO": 1
                    },
                    "text": "in 3"
                }
            },
            {
                "box": {
                    "id": "obj-9",
                    "maxclass": "flonum",
                    "numinlets": 1,
                    "numoutlets": 2,
                    "outlettype": [ "", "bang" ],
                    "parameter_enable": 0,
                    "patching_rect": [ 937.0, 1047.0, 50.0, 23.0 ],
                    "rnbo_classname": "number",
                    "rnbo_extra_attributes": {
                        "minimum": "<none>",
                        "initialFormat": "float",
                        "preset": 0,
                        "maximum": "<none>",
                        "order": ""
                    },
                    "rnbo_serial": 3,
                    "rnbo_uniqueid": "number_obj-9"
                }
            },
            {
                "box": {
                    "id": "obj-8",
                    "maxclass": "newobj",
                    "numinlets": 1,
                    "numoutlets": 0,
                    "patching_rect": [ 889.0, 1047.0, 36.0, 23.0 ],
                    "rnbo_classname": "out",
                    "rnbo_extra_attributes": {
                        "meta": "",
                        "comment": ""
                    },
                    "rnbo_serial": 2,
                    "rnbo_uniqueid": "out_obj-8",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "index": {
                                "attrOrProp": 2,
                                "digest": "outlet number",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "mandatory": 1
                            },
                            "comment": {
                                "attrOrProp": 2,
                                "digest": "mouse over comment",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol"
                            },
                            "meta": {
                                "attrOrProp": 2,
                                "digest": "A JSON formatted string containing metadata for use by the exported code",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "defaultValue": "",
                                "label": "Metadata",
                                "displayorder": 3
                            }
                        },
                        "inputs": [
                            {
                                "name": "in1",
                                "type": [ "bang", "number", "list" ],
                                "digest": "value sent to outlet with index 1",
                                "displayName": "",
                                "hot": 1,
                                "docked": 0
                            }
                        ],
                        "outputs": [],
                        "helpname": "out",
                        "aliasOf": "out",
                        "classname": "out",
                        "operator": 0,
                        "versionId": 1131826829,
                        "changesPatcherIO": 1
                    },
                    "text": "out 1"
                }
            },
            {
                "box": {
                    "id": "obj-7",
                    "maxclass": "comment",
                    "numinlets": 1,
                    "numoutlets": 0,
                    "patching_rect": [ 1809.0, 558.0, 150.0, 21.0 ]
                }
            },
            {
                "box": {
                    "code": "@param({min: 64, max: 2048}) fftsize = 64;\n//@state last_fftsize = 0; //<----not needed unless you want to log fftsize changes\n@state fftbuf_index : Int = 0; //track the last index to read from fftbuf (needed when I/O buffer size and fftbuf > fftsize)\n@state last_samplecount : Int = 0; //track last samplecount value to know when we've started a new I/O buffer\n\n\n@param({min: 0, max: 1}) needs_init = 1; //only needed if fftsize changes after construction, but that's not likely to ever happen\n//@state last_needs_init = 0; //<----not needed unless you want to log needs_init changes\n\n@state numbins : Int = 0; // numbins is the fftsize bin count not including DC/nyq (fftsize / 2 - 1)\n@state oneovern = 0.0;\n\nconst specFlat_data_array_size : Int = 2048; //max possible value of fftsize (buffer size)...\n@state specFlat_data_array = new FixedFloatArray(specFlat_data_array_size);\n\n@state fftbuf = new buffer(\"local:fftbuf_1\"); //reference to data \"fftbuf\" object in RNBO patch\n\nfunction specFlat_init(this_fftsize) {\n    for (var i = 0; i < specFlat_data_array_size; i++) {\n        specFlat_data_array[i] = 0.0; //0 out data array\n    }\n    \n    //int numbins = (buf->samples - 2) >> 1; //source FFTAnalyser_GET_BUF\n    numbins = (this_fftsize - 2) >> 1; //(fftsize / 2 - 1)\n    //oneovern = 0.0; //from SpecFlatness_Ctor\n    oneovern = 1.0 / (numbins + 2);\n}\n\n//Load the current frame of FFT data into specFlat_data_array\nfunction specFlat_load_frame(this_fftsize, startIndex) {\n    \n    if (this_fftsize > specFlat_data_array_size) {\n        //safeguard against writing out of bounds of onsetdetector_data_array\n        this_fftsize = specFlat_data_array_size;\n        post(\"WARNING!!! fftsize was set to value > specFlat_data_array_size\");\n        post(\"fftsize now = specFlat_data_array_size to avoid crash\");\n    }\n    //store all fftbuf data in specFlat_data_array...\n    for (var i : Int = 0; i < this_fftsize/2; i++) {\n        if (i < 1) {\n            //post(\"===========\");\n            //no conversion needed for these...\n            var dc = peek(fftbuf, startIndex);\n            var nyq = peek(fftbuf, startIndex + 1);\n            specFlat_data_array[0] = dc[0];\n            specFlat_data_array[1] = nyq[0];\n        }\n        else if (i >= 1 && (i < this_fftsize/2)) {\n        \t//using sda_index_x and sda_index_y to decouple specFlat_data_array write positions from fftbuf read positions via startIndex\n            var sda_index_x : Int = 2 * i;\n            var sda_index_y : Int = sda_index_x + 1;\n            var read_index_x : Int = sda_index_x + startIndex;\n            var read_index_y : Int = read_index_x + 1;\n            var real = peek(fftbuf, read_index_x);\n            var imaginary = peek(fftbuf, read_index_y);\n            \n            specFlat_data_array[sda_index_x] = real[0];\n            specFlat_data_array[sda_index_y] = imaginary[0];\n        }\n    }\n}\n\nfunction SpecFlatness_next() {\n    var outval = 0.0;\n    \n    if (needs_init) {\n        specFlat_init(fftsize);\n        needs_init = 0;\n    }\n    \n    var samplecount : Int = samplecount(); //total # of samples elapsed since RNBO code was loaded, at the start of this audio buffer\n    //if we've started a new audio buffer, or we've incremented past the I/O buffer size, reset fftbuf_index (read index) to 0\n    if (samplecount != last_samplecount || fftbuf_index >= vectorsize()) {\n\t\tfftbuf_index = 0;\n\t\tlast_samplecount = samplecount;\n\t}\n    \n    //FFTAnalyser_GET_BUF //source\n    specFlat_load_frame(fftsize, fftbuf_index);\n    fftbuf_index += fftsize; //increment fftbuf_index by fftsize (to handle cases when fftsize != I/O vector size)\n    \n    //if (unit->m_oneovern == 0.) unit->m_oneovern = 1. / (numbins + 2); //source\n    //I decided to set oneovern once in specFlat_init() instead b/c it's always going to be the same due to fftsize never changing (fftsize set on construction)\n\n    //SCComplexBuf* p = ToComplexApx(buf); //source (no complex conversion needed b/c fftbuf values are already in complex format...)\n\n    // Spectral Flatness Measure is geometric mean divided by arithmetic mean.\n    //\n    // In order to calculate geom mean without hitting the precision limit,\n    //  we use the trick of converting to log, taking the average, then converting back from log.\n    //double geommean = std::log(sc_abs(p->dc)) + std::log(sc_abs(p->nyq)); //source\n    var geommean = log(abs(specFlat_data_array[0])) + log(abs(specFlat_data_array[1]));\n    \n    //double mean = sc_abs(p->dc) + sc_abs(p->nyq); //source\n    var mean = abs(specFlat_data_array[0]) + abs(specFlat_data_array[1]);\n\n    for (var i = 0; i < numbins; ++i) {\n        var index_bin_real : Int = (2 * i) + 2; //bin real values are even indeces starting at 2 (dc and nyq are 0 and 1) in 'specFlat_data_array'\n        var index_bin_imag : Int = (2 * i) + 3; //bin imaginary values are odd indeces starting at 3 (dc, nyq, and real[0] are 0, 1, and 2) in 'specFlat_data_array')\n        \n        //float rabs = (p->bin[i].real); //source\n        var real = specFlat_data_array[index_bin_real];\n        \n        //float iabs = (p->bin[i].imag); //source\n        var imag = specFlat_data_array[index_bin_imag];\n        \n        //float amp = std::sqrt((rabs * rabs) + (iabs * iabs)); //source\n        var amp = safesqrt((real * real) + (imag * imag));\n        \n        if (amp != 0.0) { // zeroes lead to NaNs\n            geommean += log(amp);\n            mean += amp;\n        }\n    }\n\n    //double oneovern = unit->m_oneovern; //source (no need b/c using @state oneovern)\n    geommean = exp(geommean * oneovern); // Average and then convert back to linear (source)\n    mean *= oneovern; //source\n\n    // Store the val for output in future calls\n    //unit->outval = (mean == 0.f ? 0.8f : (geommean / mean)); //source\n    outval = (mean == 0.0 ? 0.8 : (geommean / mean));\n    // Note: for silence the value is undefined.\n    // Here, for silence we instead output an empirical value based on very quiet white noise.\n\n    //ZOUT0(0) = unit->outval; //source\n    out1 = outval;\n}\n\nSpecFlatness_next();\n",
                    "fontface": 0,
                    "fontname": "<Monospaced>",
                    "fontsize": 12.0,
                    "id": "obj-6",
                    "maxclass": "codebox",
                    "numinlets": 1,
                    "numoutlets": 1,
                    "outlettype": [ "" ],
                    "patching_rect": [ 900.0, 533.0, 641.0, 478.0 ],
                    "rnbo_classname": "codebox",
                    "rnbo_extra_attributes": {
                        "hot": 0,
                        "safemath": 1,
                        "code": "@param({min: 64, max: 2048}) fftsize = 64;\n//@state last_fftsize = 0; //<----not needed unless you want to log fftsize changes\n@state fftbuf_index : Int = 0; //track the last index to read from fftbuf (needed when I/O buffer size and fftbuf > fftsize)\n@state last_samplecount : Int = 0; //track last samplecount value to know when we've started a new I/O buffer\n\n\n@param({min: 0, max: 1}) needs_init = 1; //only needed if fftsize changes after construction, but that's not likely to ever happen\n//@state last_needs_init = 0; //<----not needed unless you want to log needs_init changes\n\n@state numbins : Int = 0; // numbins is the fftsize bin count not including DC/nyq (fftsize / 2 - 1)\n@state oneovern = 0.0;\n\nconst specFlat_data_array_size : Int = 2048; //max possible value of fftsize (buffer size)...\n@state specFlat_data_array = new FixedFloatArray(specFlat_data_array_size);\n\n@state fftbuf = new buffer(\"local:fftbuf_1\"); //reference to data \"fftbuf\" object in RNBO patch\n\nfunction specFlat_init(this_fftsize) {\n    for (var i = 0; i < specFlat_data_array_size; i++) {\n        specFlat_data_array[i] = 0.0; //0 out data array\n    }\n    \n    //int numbins = (buf->samples - 2) >> 1; //source FFTAnalyser_GET_BUF\n    numbins = (this_fftsize - 2) >> 1; //(fftsize / 2 - 1)\n    //oneovern = 0.0; //from SpecFlatness_Ctor\n    oneovern = 1.0 / (numbins + 2);\n}\n\n//Load the current frame of FFT data into specFlat_data_array\nfunction specFlat_load_frame(this_fftsize, startIndex) {\n    \n    if (this_fftsize > specFlat_data_array_size) {\n        //safeguard against writing out of bounds of onsetdetector_data_array\n        this_fftsize = specFlat_data_array_size;\n        post(\"WARNING!!! fftsize was set to value > specFlat_data_array_size\");\n        post(\"fftsize now = specFlat_data_array_size to avoid crash\");\n    }\n    //store all fftbuf data in specFlat_data_array...\n    for (var i : Int = 0; i < this_fftsize/2; i++) {\n        if (i < 1) {\n            //post(\"===========\");\n            //no conversion needed for these...\n            var dc = peek(fftbuf, startIndex);\n            var nyq = peek(fftbuf, startIndex + 1);\n            specFlat_data_array[0] = dc[0];\n            specFlat_data_array[1] = nyq[0];\n        }\n        else if (i >= 1 && (i < this_fftsize/2)) {\n        \t//using sda_index_x and sda_index_y to decouple specFlat_data_array write positions from fftbuf read positions via startIndex\n            var sda_index_x : Int = 2 * i;\n            var sda_index_y : Int = sda_index_x + 1;\n            var read_index_x : Int = sda_index_x + startIndex;\n            var read_index_y : Int = read_index_x + 1;\n            var real = peek(fftbuf, read_index_x);\n            var imaginary = peek(fftbuf, read_index_y);\n            \n            specFlat_data_array[sda_index_x] = real[0];\n            specFlat_data_array[sda_index_y] = imaginary[0];\n        }\n    }\n}\n\nfunction SpecFlatness_next() {\n    var outval = 0.0;\n    \n    if (needs_init) {\n        specFlat_init(fftsize);\n        needs_init = 0;\n    }\n    \n    var samplecount : Int = samplecount(); //total # of samples elapsed since RNBO code was loaded, at the start of this audio buffer\n    //if we've started a new audio buffer, or we've incremented past the I/O buffer size, reset fftbuf_index (read index) to 0\n    if (samplecount != last_samplecount || fftbuf_index >= vectorsize()) {\n\t\tfftbuf_index = 0;\n\t\tlast_samplecount = samplecount;\n\t}\n    \n    //FFTAnalyser_GET_BUF //source\n    specFlat_load_frame(fftsize, fftbuf_index);\n    fftbuf_index += fftsize; //increment fftbuf_index by fftsize (to handle cases when fftsize != I/O vector size)\n    \n    //if (unit->m_oneovern == 0.) unit->m_oneovern = 1. / (numbins + 2); //source\n    //I decided to set oneovern once in specFlat_init() instead b/c it's always going to be the same due to fftsize never changing (fftsize set on construction)\n\n    //SCComplexBuf* p = ToComplexApx(buf); //source (no complex conversion needed b/c fftbuf values are already in complex format...)\n\n    // Spectral Flatness Measure is geometric mean divided by arithmetic mean.\n    //\n    // In order to calculate geom mean without hitting the precision limit,\n    //  we use the trick of converting to log, taking the average, then converting back from log.\n    //double geommean = std::log(sc_abs(p->dc)) + std::log(sc_abs(p->nyq)); //source\n    var geommean = log(abs(specFlat_data_array[0])) + log(abs(specFlat_data_array[1]));\n    \n    //double mean = sc_abs(p->dc) + sc_abs(p->nyq); //source\n    var mean = abs(specFlat_data_array[0]) + abs(specFlat_data_array[1]);\n\n    for (var i = 0; i < numbins; ++i) {\n        var index_bin_real : Int = (2 * i) + 2; //bin real values are even indeces starting at 2 (dc and nyq are 0 and 1) in 'specFlat_data_array'\n        var index_bin_imag : Int = (2 * i) + 3; //bin imaginary values are odd indeces starting at 3 (dc, nyq, and real[0] are 0, 1, and 2) in 'specFlat_data_array')\n        \n        //float rabs = (p->bin[i].real); //source\n        var real = specFlat_data_array[index_bin_real];\n        \n        //float iabs = (p->bin[i].imag); //source\n        var imag = specFlat_data_array[index_bin_imag];\n        \n        //float amp = std::sqrt((rabs * rabs) + (iabs * iabs)); //source\n        var amp = safesqrt((real * real) + (imag * imag));\n        \n        if (amp != 0.0) { // zeroes lead to NaNs\n            geommean += log(amp);\n            mean += amp;\n        }\n    }\n\n    //double oneovern = unit->m_oneovern; //source (no need b/c using @state oneovern)\n    geommean = exp(geommean * oneovern); // Average and then convert back to linear (source)\n    mean *= oneovern; //source\n\n    // Store the val for output in future calls\n    //unit->outval = (mean == 0.f ? 0.8f : (geommean / mean)); //source\n    outval = (mean == 0.0 ? 0.8 : (geommean / mean));\n    // Note: for silence the value is undefined.\n    // Here, for silence we instead output an empirical value based on very quiet white noise.\n\n    //ZOUT0(0) = unit->outval; //source\n    out1 = outval;\n}\n\nSpecFlatness_next();\n",
                        "nocache": 0
                    },
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "codebox_obj-6",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "reset": {
                                "attrOrProp": 1,
                                "digest": "Reset all state and params to initial values",
                                "isalias": 0,
                                "aliases": [],
                                "attachable": 1,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bang"
                            },
                            "out1": {
                                "attrOrProp": 1,
                                "digest": "out1",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 0,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "outlet": 1,
                                "type": "number"
                            },
                            "fftsize": {
                                "attrOrProp": 1,
                                "digest": "fftsize",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 1,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "64"
                            },
                            "needs_init": {
                                "attrOrProp": 1,
                                "digest": "needs_init",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 1,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "1"
                            },
                            "in1": {
                                "attrOrProp": 1,
                                "digest": "in1",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 0,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "inlet": 1,
                                "type": "bang"
                            },
                            "expr": {
                                "attrOrProp": 2,
                                "digest": "expr",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "doNotShowInMaxInspector": 1
                            },
                            "hot": {
                                "attrOrProp": 2,
                                "digest": "Trigger computation on all inlets.",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bool",
                                "defaultValue": "false"
                            },
                            "safemath": {
                                "attrOrProp": 2,
                                "digest": "Use safe math expressions (e.g.: division by 0 will not crash).",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bool",
                                "defaultValue": "true"
                            },
                            "nocache": {
                                "attrOrProp": 2,
                                "digest": "Do not use parsing cache. This is only useful with very very big code sizes. Code generation will then take a looooong time.",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bool",
                                "defaultValue": "false"
                            }
                        },
                        "inputs": [
                            {
                                "name": "in1",
                                "type": "bang",
                                "digest": "in1",
                                "hot": 1,
                                "docked": 0
                            }
                        ],
                        "outputs": [
                            {
                                "name": "out1",
                                "type": "number",
                                "digest": "out1",
                                "docked": 0
                            }
                        ],
                        "helpname": "codebox",
                        "aliasOf": "expr",
                        "classname": "codebox",
                        "operator": 0,
                        "versionId": 835263063,
                        "changesPatcherIO": 0
                    }
                }
            },
            {
                "box": {
                    "id": "obj-68",
                    "maxclass": "newobj",
                    "numinlets": 0,
                    "numoutlets": 1,
                    "outlettype": [ "" ],
                    "patching_rect": [ 771.0, 333.0, 28.0, 23.0 ],
                    "rnbo_classname": "in",
                    "rnbo_extra_attributes": {
                        "meta": "",
                        "comment": "Enable (Continuous I/O)"
                    },
                    "rnbo_serial": 3,
                    "rnbo_uniqueid": "in_obj-68",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "index": {
                                "attrOrProp": 2,
                                "digest": "inlet number",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "mandatory": 1
                            },
                            "comment": {
                                "attrOrProp": 2,
                                "digest": "mouse over comment",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol"
                            },
                            "meta": {
                                "attrOrProp": 2,
                                "digest": "A JSON formatted string containing metadata for use by the exported code",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "defaultValue": "",
                                "label": "Metadata",
                                "displayorder": 3
                            }
                        },
                        "inputs": [],
                        "outputs": [
                            {
                                "name": "out1",
                                "type": [ "bang", "number", "list" ],
                                "digest": "value from inlet with index 2",
                                "displayName": "Enable (Continuous I/O)",
                                "docked": 0
                            }
                        ],
                        "helpname": "in",
                        "aliasOf": "in",
                        "classname": "in",
                        "operator": 0,
                        "versionId": 475235762,
                        "changesPatcherIO": 1
                    },
                    "text": "in 2"
                }
            },
            {
                "box": {
                    "id": "obj-50",
                    "maxclass": "toggle",
                    "numinlets": 1,
                    "numoutlets": 1,
                    "outlettype": [ "int" ],
                    "parameter_enable": 0,
                    "patching_rect": [ 771.0, 426.0, 24.0, 24.0 ],
                    "rnbo_classname": "toggle",
                    "rnbo_extra_attributes": {
                        "preset": 0,
                        "order": ""
                    },
                    "rnbo_serial": 3,
                    "rnbo_uniqueid": "toggle_obj-50"
                }
            },
            {
                "box": {
                    "id": "obj-49",
                    "maxclass": "newobj",
                    "numinlets": 2,
                    "numoutlets": 1,
                    "outlettype": [ "" ],
                    "patching_rect": [ 771.0, 470.0, 50.0, 23.0 ],
                    "rnbo_classname": "metro",
                    "rnbo_extra_attributes": {
                        "lock": 0.0
                    },
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "metro_obj-49",
                    "text": "metro 1"
                }
            },
            {
                "box": {
                    "id": "obj-5",
                    "maxclass": "newobj",
                    "numinlets": 2,
                    "numoutlets": 2,
                    "outlettype": [ "", "" ],
                    "patching_rect": [ 1640.0, 377.0, 209.0, 23.0 ],
                    "rnbo_classname": "param",
                    "rnbo_extra_attributes": {
                        "displayname": "",
                        "tonormalized": "",
                        "exponent": 1.0,
                        "displayorder": "-",
                        "meta": "",
                        "preset": 1,
                        "sendinit": 1,
                        "enum": "",
                        "unit": "",
                        "fromnormalized": "",
                        "steps": 0.0,
                        "order": "0",
                        "ctlin": 0.0
                    },
                    "rnbo_serial": 2,
                    "rnbo_uniqueid": "fftsize",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "value": {
                                "attrOrProp": 1,
                                "digest": "Parameter value",
                                "defaultarg": 2,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 1,
                                "deprecated": 0,
                                "touched": 0,
                                "inlet": 1,
                                "type": "number",
                                "defaultValue": "64"
                            },
                            "normalizedvalue": {
                                "attrOrProp": 1,
                                "digest": "Set value normalized. ",
                                "isalias": 0,
                                "aliases": [],
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "inlet": 1,
                                "type": "number"
                            },
                            "reset": {
                                "attrOrProp": 1,
                                "digest": "Reset param to initial value",
                                "isalias": 0,
                                "aliases": [],
                                "attachable": 1,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bang"
                            },
                            "normalized": {
                                "attrOrProp": 1,
                                "digest": "Normalized parameter value.",
                                "isalias": 0,
                                "aliases": [],
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "outlet": 1,
                                "type": "number"
                            },
                            "name": {
                                "attrOrProp": 2,
                                "digest": "Name of the parameter",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "label": "Parameter Name",
                                "mandatory": 1
                            },
                            "enum": {
                                "attrOrProp": 2,
                                "digest": "Use an enumerated output",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "list",
                                "label": "Enum Values",
                                "displayorder": 6
                            },
                            "minimum": {
                                "attrOrProp": 2,
                                "digest": "Minimum value",
                                "isalias": 0,
                                "aliases": [ "min" ],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "0",
                                "label": "Minimum",
                                "displayorder": 1
                            },
                            "min": {
                                "attrOrProp": 2,
                                "digest": "Minimum value",
                                "isalias": 1,
                                "aliasOf": "minimum",
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "0",
                                "label": "Minimum",
                                "displayorder": 1
                            },
                            "maximum": {
                                "attrOrProp": 2,
                                "digest": "Maximum value",
                                "isalias": 0,
                                "aliases": [ "max" ],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "1",
                                "label": "Maximum",
                                "displayorder": 2
                            },
                            "max": {
                                "attrOrProp": 2,
                                "digest": "Maximum value",
                                "isalias": 1,
                                "aliasOf": "maximum",
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "1",
                                "label": "Maximum",
                                "displayorder": 2
                            },
                            "exponent": {
                                "attrOrProp": 2,
                                "digest": "Scale values exponentially",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "1",
                                "label": "Exponent",
                                "displayorder": 7
                            },
                            "steps": {
                                "attrOrProp": 2,
                                "digest": "Divide the output into a number of discrete steps",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "0",
                                "label": "Steps",
                                "displayorder": 8
                            },
                            "displayName": {
                                "attrOrProp": 2,
                                "digest": "DEPRECATED: Use the lower case 'displayname' instead",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 1,
                                "touched": 0,
                                "type": "symbol",
                                "label": "Display Name"
                            },
                            "displayname": {
                                "attrOrProp": 2,
                                "digest": "A more readable name for the parameter in an external RNBO target",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "defaultValue": "",
                                "label": "Display Name",
                                "displayorder": 14
                            },
                            "unit": {
                                "attrOrProp": 2,
                                "digest": "A symbol to describe the unit of the parameter in an external RNBO target",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "defaultValue": "",
                                "label": "Unit",
                                "displayorder": 15
                            },
                            "tonormalized": {
                                "attrOrProp": 2,
                                "digest": "Converts a real parameter value to its normalized form",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "label": "To Normalized Expression",
                                "displayorder": 10
                            },
                            "fromnormalized": {
                                "attrOrProp": 2,
                                "digest": "Converts a normalized parameter into its actual parameter value",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "label": "From Normalized Expression",
                                "displayorder": 9
                            },
                            "order": {
                                "attrOrProp": 2,
                                "digest": "Order in which initial parameter values will be sent out on patcher load. The order can be numeric or symbolic ('first' and 'last')",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "defaultValue": "0",
                                "label": "Restore Order",
                                "displayorder": 12
                            },
                            "displayorder": {
                                "attrOrProp": 2,
                                "digest": "Order in which parameters will show up in a list of all parameters. The order can be numeric or symbolic ('first' and 'last')",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "defaultValue": "-",
                                "label": "Display Order",
                                "displayorder": 13
                            },
                            "sendinit": {
                                "attrOrProp": 2,
                                "digest": "Send initial value",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bool",
                                "defaultValue": "true",
                                "label": "Send Init",
                                "displayorder": 4
                            },
                            "ctlin": {
                                "attrOrProp": 2,
                                "digest": "MIDI controller number to control this parameter.",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "-1",
                                "label": "MIDI Controller Number.",
                                "displayorder": 16
                            },
                            "meta": {
                                "attrOrProp": 2,
                                "digest": "A JSON formatted string containing metadata for use by the exported code",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "defaultValue": "",
                                "label": "Metadata",
                                "displayorder": 17
                            },
                            "nopreset": {
                                "attrOrProp": 2,
                                "digest": "Do not add this value to the preset [DEPRECATED - USE @preset 0 instead].",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 1,
                                "touched": 0,
                                "type": "bool",
                                "defaultValue": "false"
                            },
                            "preset": {
                                "attrOrProp": 2,
                                "digest": "Add this value to the preset.",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bool",
                                "defaultValue": "true",
                                "label": "Include In Preset",
                                "displayorder": 11
                            }
                        },
                        "inputs": [
                            {
                                "name": "value",
                                "type": "number",
                                "digest": "Parameter value",
                                "defaultarg": 2,
                                "hot": 1,
                                "docked": 0
                            },
                            {
                                "name": "normalizedvalue",
                                "type": "number",
                                "digest": "Set value normalized. ",
                                "docked": 0
                            }
                        ],
                        "outputs": [
                            {
                                "name": "value",
                                "type": "number",
                                "digest": "Parameter value",
                                "defaultarg": 2,
                                "hot": 1,
                                "docked": 0
                            },
                            {
                                "name": "normalized",
                                "type": "number",
                                "digest": "Normalized parameter value.",
                                "docked": 0
                            }
                        ],
                        "helpname": "param",
                        "aliasOf": "param",
                        "classname": "param",
                        "operator": 0,
                        "versionId": -1661410411,
                        "changesPatcherIO": 0
                    },
                    "text": "param fftsize #1 @min 64 @max 2048",
                    "varname": "fftsize"
                }
            },
            {
                "box": {
                    "id": "obj-103",
                    "maxclass": "newobj",
                    "numinlets": 1,
                    "numoutlets": 0,
                    "patching_rect": [ 1673.0, 448.0, 117.0, 23.0 ],
                    "rnbo_classname": "send",
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "send_obj-103",
                    "text": "send local:set_fftsize"
                }
            },
            {
                "box": {
                    "id": "obj-92",
                    "maxclass": "newobj",
                    "numinlets": 1,
                    "numoutlets": 1,
                    "outlettype": [ "" ],
                    "patching_rect": [ 1604.0, 448.0, 60.0, 23.0 ],
                    "rnbo_classname": "set",
                    "rnbo_serial": 3,
                    "rnbo_uniqueid": "set_obj-92",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "name": {
                                "attrOrProp": 2,
                                "digest": "attribute/param to control",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "mandatory": 1
                            }
                        },
                        "inputs": [
                            {
                                "name": "input",
                                "type": [ "bang", "number", "list", "signal" ],
                                "digest": "attribute or parameter value (bang, number, list)",
                                "hot": 1,
                                "docked": 0
                            }
                        ],
                        "outputs": [
                            {
                                "name": "output",
                                "type": [ "bang", "number", "list", "signal" ],
                                "digest": "connect to first inlet of gen or subpatcher",
                                "docked": 0
                            }
                        ],
                        "helpname": "set",
                        "aliasOf": "set",
                        "classname": "set",
                        "operator": 0,
                        "versionId": 1197449671,
                        "changesPatcherIO": 0
                    },
                    "text": "set fftsize"
                }
            },
            {
                "box": {
                    "id": "obj-4",
                    "maxclass": "button",
                    "numinlets": 1,
                    "numoutlets": 1,
                    "outlettype": [ "bang" ],
                    "parameter_enable": 0,
                    "patching_rect": [ 400.0, 652.0, 24.0, 24.0 ],
                    "rnbo_classname": "button",
                    "rnbo_serial": 2,
                    "rnbo_uniqueid": "button_obj-4"
                }
            },
            {
                "box": {
                    "id": "obj-2",
                    "maxclass": "message",
                    "numinlets": 2,
                    "numoutlets": 1,
                    "outlettype": [ "" ],
                    "patching_rect": [ 400.0, 839.0, 50.0, 23.0 ],
                    "rnbo_classname": "message",
                    "rnbo_extra_attributes": {
                        "storeempty": 0,
                        "text": ""
                    },
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "message_obj-2",
                    "text": "1023"
                }
            },
            {
                "box": {
                    "code": "var fftsize : Int = 2048;\r\nvar numbins : Int = 0;\r\nnumbins = (fftsize - 2) >> 1;\r\nout1 = numbins;",
                    "fontface": 0,
                    "fontname": "<Monospaced>",
                    "fontsize": 12.0,
                    "id": "obj-1",
                    "maxclass": "codebox",
                    "numinlets": 1,
                    "numoutlets": 1,
                    "outlettype": [ "" ],
                    "patching_rect": [ 400.0, 699.0, 317.0, 109.0 ],
                    "rnbo_classname": "codebox",
                    "rnbo_extra_attributes": {
                        "hot": 0,
                        "safemath": 1,
                        "code": "var fftsize : Int = 2048;\r\nvar numbins : Int = 0;\r\nnumbins = (fftsize - 2) >> 1;\r\nout1 = numbins;",
                        "nocache": 0
                    },
                    "rnbo_serial": 2,
                    "rnbo_uniqueid": "codebox_obj-1",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "reset": {
                                "attrOrProp": 1,
                                "digest": "Reset all state and params to initial values",
                                "isalias": 0,
                                "aliases": [],
                                "attachable": 1,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bang"
                            },
                            "out1": {
                                "attrOrProp": 1,
                                "digest": "out1",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 0,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "outlet": 1,
                                "type": "number"
                            },
                            "in1": {
                                "attrOrProp": 1,
                                "digest": "in1",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 0,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "inlet": 1,
                                "type": "bang"
                            },
                            "expr": {
                                "attrOrProp": 2,
                                "digest": "expr",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "doNotShowInMaxInspector": 1
                            },
                            "hot": {
                                "attrOrProp": 2,
                                "digest": "Trigger computation on all inlets.",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bool",
                                "defaultValue": "false"
                            },
                            "safemath": {
                                "attrOrProp": 2,
                                "digest": "Use safe math expressions (e.g.: division by 0 will not crash).",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bool",
                                "defaultValue": "true"
                            },
                            "nocache": {
                                "attrOrProp": 2,
                                "digest": "Do not use parsing cache. This is only useful with very very big code sizes. Code generation will then take a looooong time.",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bool",
                                "defaultValue": "false"
                            }
                        },
                        "inputs": [
                            {
                                "name": "in1",
                                "type": "bang",
                                "digest": "in1",
                                "hot": 1,
                                "docked": 0
                            }
                        ],
                        "outputs": [
                            {
                                "name": "out1",
                                "type": "number",
                                "digest": "out1",
                                "docked": 0
                            }
                        ],
                        "helpname": "codebox",
                        "aliasOf": "expr",
                        "classname": "codebox",
                        "operator": 0,
                        "versionId": 835263063,
                        "changesPatcherIO": 0
                    }
                }
            },
            {
                "box": {
                    "id": "obj-107",
                    "maxclass": "newobj",
                    "numinlets": 1,
                    "numoutlets": 1,
                    "outlettype": [ "" ],
                    "patching_rect": [ 298.0, 116.0, 60.0, 23.0 ],
                    "rnbo_classname": "set",
                    "rnbo_serial": 4,
                    "rnbo_uniqueid": "set_obj-107",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "name": {
                                "attrOrProp": 2,
                                "digest": "attribute/param to control",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "mandatory": 1
                            }
                        },
                        "inputs": [
                            {
                                "name": "input",
                                "type": [ "bang", "number", "list", "signal" ],
                                "digest": "attribute or parameter value (bang, number, list)",
                                "hot": 1,
                                "docked": 0
                            }
                        ],
                        "outputs": [
                            {
                                "name": "output",
                                "type": [ "bang", "number", "list", "signal" ],
                                "digest": "connect to first inlet of gen or subpatcher",
                                "docked": 0
                            }
                        ],
                        "helpname": "set",
                        "aliasOf": "set",
                        "classname": "set",
                        "operator": 0,
                        "versionId": 1197449671,
                        "changesPatcherIO": 0
                    },
                    "text": "set fftsize"
                }
            },
            {
                "box": {
                    "id": "obj-108",
                    "maxclass": "newobj",
                    "numinlets": 0,
                    "numoutlets": 1,
                    "outlettype": [ "" ],
                    "patching_rect": [ 298.0, 87.0, 130.0, 23.0 ],
                    "rnbo_classname": "receive",
                    "rnbo_serial": 2,
                    "rnbo_uniqueid": "receive_obj-108",
                    "text": "receive local:set_fftsize"
                }
            },
            {
                "box": {
                    "code": "//copy fftstream data of current buffer to fftbuf\n//and translate it to be compatible with SC FFT format\n//dc | nyq | bin1 (r) | bin 1 (i) | bin2 (r) | bin2 (i) ...\n\n@param fftsize = 64;\n@state last_fftsize = 0;\n@state fftbuf = new buffer(\"local:fftbuf_1\"); //reference to data \"fftbuf\" object in RNBO patch\n\n@state write_index : Int = 0; //from 0 to (vectorsize() - 1)\n@state index_offset : Int = 0; //increments by fftsize each time fft_index wraps around back to 0\n@state reset_write_index : Int = 0;\n\nconst enable_test : Int = 0;\nconst enable_logs : Int = 0;\nconst max_log_posts : Int = 256;\n@state log_counter : Int = 0;\n\nvar real = in1;\nvar imaginary = in2;\nvar fft_index = intnum(in3);\nvar write_to_fftbuf = intnum(in4);\n\nvar testval : number;\n\n\nfunction dspsetup() {\n    bufferclear(fftbuf);\n    write_index = 0;\n    index_offset = 0;\n}\n\n\nif (!(last_fftsize == fftsize)) {\n\tif (enable_logs) {\n\t\tpost(\"[fftstream-converter~] --> NEW FFTSIZE = \", fftsize);\n    \tpost(\"[fftstream-converter~] --> LAST FFTSIZE = \", last_fftsize);\n\t}\n    last_fftsize = fftsize;\n    reset_write_index = 1;\n}\n\n\nif (write_to_fftbuf) {\n    //if write_to_fftbuf is enabled and then disabled, reset write_index to 0\n    if (reset_write_index) {\n        reset_write_index = 0;\n        write_index = 0;\n        index_offset = 0;\n        log_counter = 0;\n        if (enable_logs) {\n            post(\"[fft-convert~] write_index reset to 0 ------\");\n            post(\"[fft-convert~] log_counter reset to 0 ------\");\n        }\n    }\n    \n    //fft_index isn't guaranteed to always start at 0 (like when I/O buffer size < fftsize), so handle this case and align write_index w/ current fft_index\n    if (write_index == 0 && fft_index != 0) {\n    \tif (enable_logs && log_counter < max_log_posts) {\n    \t\tpost(\"[fft-convert~] fft_index out of sync w/ write_index! | write_index = 0 | fft_index = \", fft_index);\n    \t}\n        continue; //skip samples until write_index becomes in sync w/ fft_index again (since this I/O cycle started in the middle of fftstream processing and we've missed some samples/freq bins)\n    }\n    \n    if (enable_test) {testval = fft_index;} //test\n    \n    if (fft_index < 1) {//dc\n        if (enable_test) {\n            testval = 123456;\n            poke(fftbuf, testval, write_index); //test\n        }\n        else {\n            poke(fftbuf, in1, write_index); //copy real\n        }\n        \n        if (vectorsize() > fftsize) {//if I/O buffersize > fftsize\n            index_offset = write_index; //increment index_offset each fft_index wrap around (0, 64, 128, 192, 256, etc.)\n        }\n    }\n    else if (fft_index >= 1 && fft_index < fftsize/2) {\n        var index_x : Int = (fft_index * 2) + index_offset;\n\t\tvar index_y : Int = index_x + 1;\n\t\t\n\t\tif (enable_test) {\n\t\t\tvar testval2 : number = testval + 0.1;\n\t\t\tpoke(fftbuf, testval, index_x); //test\n\t\t\tpoke(fftbuf, testval2, index_y); //test\n\t\t}\n\t\telse {\n\t\t\tpoke(fftbuf, in1, index_x); //copy real\n\t\t\tpoke(fftbuf, in2, index_y); //copy imaginary\n\t\t}\n    }\n    else if (fft_index == fftsize/2) {//nyquist\n        if (enable_test) {\n\t\t\tpoke(fftbuf, testval, (index_offset + 1)); //test\n\t\t}\n\t\telse {\n\t\t\tpoke(fftbuf, in1, (index_offset + 1)); //copy real (put in SC's fft format's expected bin: 0-index + 1)\n\t\t}\n    }\n    \n    if (enable_logs) {\n        if (log_counter < max_log_posts) {\n            if (log_counter == 0) {\n                post(\"[fft-convert~] write_index | fft_index | index_offset | log_counter\");\n            }\n        \tpost(\"[fft-convert~] \", write_index, fft_index, index_offset, log_counter);\n            log_counter++;\n        }\n    }\n    \n    //increment write_index each sample\n    write_index++;\n    \n    if (vectorsize() >= fftsize) {\n    \t// reset write_index to 0 at the start of each new I/O buffer (when I/O buffer >= fftsize)\n    \tif (write_index >= vectorsize()) {\n        \twrite_index = 0;\n    \t}\n    }\n    else {\n    \t//if I/O buffer size < fftsize, reset write_index to 0 if it's >= fftsize\n    \tif (write_index >= fftsize) {\n        \twrite_index = 0;\n    \t}\n    }\n}\nelse {//write_to_fftbuf disabled \n    if (reset_write_index == 0) {\n        reset_write_index = 1; //ensure we reset the write_index to 0 the next time write_to_fftbuf is enabled\n    }\n}\n",
                    "fontface": 0,
                    "fontname": "<Monospaced>",
                    "fontsize": 12.0,
                    "id": "obj-32",
                    "maxclass": "codebox~",
                    "numinlets": 4,
                    "numoutlets": 0,
                    "patching_rect": [ 56.0, 179.0, 575.0, 456.0 ],
                    "rnbo_classname": "codebox~",
                    "rnbo_extra_attributes": {
                        "safemath": 1,
                        "code": "//copy fftstream data of current buffer to fftbuf\n//and translate it to be compatible with SC FFT format\n//dc | nyq | bin1 (r) | bin 1 (i) | bin2 (r) | bin2 (i) ...\n\n@param fftsize = 64;\n@state last_fftsize = 0;\n@state fftbuf = new buffer(\"local:fftbuf_1\"); //reference to data \"fftbuf\" object in RNBO patch\n\n@state write_index : Int = 0; //from 0 to (vectorsize() - 1)\n@state index_offset : Int = 0; //increments by fftsize each time fft_index wraps around back to 0\n@state reset_write_index : Int = 0;\n\nconst enable_test : Int = 0;\nconst enable_logs : Int = 0;\nconst max_log_posts : Int = 256;\n@state log_counter : Int = 0;\n\nvar real = in1;\nvar imaginary = in2;\nvar fft_index = intnum(in3);\nvar write_to_fftbuf = intnum(in4);\n\nvar testval : number;\n\n\nfunction dspsetup() {\n    bufferclear(fftbuf);\n    write_index = 0;\n    index_offset = 0;\n}\n\n\nif (!(last_fftsize == fftsize)) {\n\tif (enable_logs) {\n\t\tpost(\"[fftstream-converter~] --> NEW FFTSIZE = \", fftsize);\n    \tpost(\"[fftstream-converter~] --> LAST FFTSIZE = \", last_fftsize);\n\t}\n    last_fftsize = fftsize;\n    reset_write_index = 1;\n}\n\n\nif (write_to_fftbuf) {\n    //if write_to_fftbuf is enabled and then disabled, reset write_index to 0\n    if (reset_write_index) {\n        reset_write_index = 0;\n        write_index = 0;\n        index_offset = 0;\n        log_counter = 0;\n        if (enable_logs) {\n            post(\"[fft-convert~] write_index reset to 0 ------\");\n            post(\"[fft-convert~] log_counter reset to 0 ------\");\n        }\n    }\n    \n    //fft_index isn't guaranteed to always start at 0 (like when I/O buffer size < fftsize), so handle this case and align write_index w/ current fft_index\n    if (write_index == 0 && fft_index != 0) {\n    \tif (enable_logs && log_counter < max_log_posts) {\n    \t\tpost(\"[fft-convert~] fft_index out of sync w/ write_index! | write_index = 0 | fft_index = \", fft_index);\n    \t}\n        continue; //skip samples until write_index becomes in sync w/ fft_index again (since this I/O cycle started in the middle of fftstream processing and we've missed some samples/freq bins)\n    }\n    \n    if (enable_test) {testval = fft_index;} //test\n    \n    if (fft_index < 1) {//dc\n        if (enable_test) {\n            testval = 123456;\n            poke(fftbuf, testval, write_index); //test\n        }\n        else {\n            poke(fftbuf, in1, write_index); //copy real\n        }\n        \n        if (vectorsize() > fftsize) {//if I/O buffersize > fftsize\n            index_offset = write_index; //increment index_offset each fft_index wrap around (0, 64, 128, 192, 256, etc.)\n        }\n    }\n    else if (fft_index >= 1 && fft_index < fftsize/2) {\n        var index_x : Int = (fft_index * 2) + index_offset;\n\t\tvar index_y : Int = index_x + 1;\n\t\t\n\t\tif (enable_test) {\n\t\t\tvar testval2 : number = testval + 0.1;\n\t\t\tpoke(fftbuf, testval, index_x); //test\n\t\t\tpoke(fftbuf, testval2, index_y); //test\n\t\t}\n\t\telse {\n\t\t\tpoke(fftbuf, in1, index_x); //copy real\n\t\t\tpoke(fftbuf, in2, index_y); //copy imaginary\n\t\t}\n    }\n    else if (fft_index == fftsize/2) {//nyquist\n        if (enable_test) {\n\t\t\tpoke(fftbuf, testval, (index_offset + 1)); //test\n\t\t}\n\t\telse {\n\t\t\tpoke(fftbuf, in1, (index_offset + 1)); //copy real (put in SC's fft format's expected bin: 0-index + 1)\n\t\t}\n    }\n    \n    if (enable_logs) {\n        if (log_counter < max_log_posts) {\n            if (log_counter == 0) {\n                post(\"[fft-convert~] write_index | fft_index | index_offset | log_counter\");\n            }\n        \tpost(\"[fft-convert~] \", write_index, fft_index, index_offset, log_counter);\n            log_counter++;\n        }\n    }\n    \n    //increment write_index each sample\n    write_index++;\n    \n    if (vectorsize() >= fftsize) {\n    \t// reset write_index to 0 at the start of each new I/O buffer (when I/O buffer >= fftsize)\n    \tif (write_index >= vectorsize()) {\n        \twrite_index = 0;\n    \t}\n    }\n    else {\n    \t//if I/O buffer size < fftsize, reset write_index to 0 if it's >= fftsize\n    \tif (write_index >= fftsize) {\n        \twrite_index = 0;\n    \t}\n    }\n}\nelse {//write_to_fftbuf disabled \n    if (reset_write_index == 0) {\n        reset_write_index = 1; //ensure we reset the write_index to 0 the next time write_to_fftbuf is enabled\n    }\n}\n",
                        "expr": "",
                        "nocache": 0
                    },
                    "rnbo_serial": 2,
                    "rnbo_uniqueid": "codebox~_obj-32",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "reset": {
                                "attrOrProp": 1,
                                "digest": "Reset all state and params to initial values",
                                "isalias": 0,
                                "aliases": [],
                                "attachable": 1,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bang"
                            },
                            "in1": {
                                "attrOrProp": 1,
                                "digest": "in1",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "inlet": 1,
                                "type": "number"
                            },
                            "in2": {
                                "attrOrProp": 1,
                                "digest": "in2",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "inlet": 1,
                                "type": "number"
                            },
                            "in3": {
                                "attrOrProp": 1,
                                "digest": "in3",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "inlet": 1,
                                "type": "number"
                            },
                            "in4": {
                                "attrOrProp": 1,
                                "digest": "in4",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "inlet": 1,
                                "type": "number"
                            },
                            "fftsize": {
                                "attrOrProp": 1,
                                "digest": "fftsize",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 1,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "64"
                            },
                            "expr": {
                                "attrOrProp": 2,
                                "digest": "expr",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol"
                            },
                            "safemath": {
                                "attrOrProp": 2,
                                "digest": "Use safe math expressions (e.g.: division by 0 will not crash).",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bool",
                                "defaultValue": "true"
                            },
                            "nocache": {
                                "attrOrProp": 2,
                                "digest": "Do not use parsing cache. This is only useful with very very big code sizes. Code generation will then take a looooong time.",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bool",
                                "defaultValue": "false"
                            }
                        },
                        "inputs": [
                            {
                                "name": "in1",
                                "type": "auto",
                                "digest": "in1",
                                "hot": 1,
                                "docked": 0
                            },
                            {
                                "name": "in2",
                                "type": "auto",
                                "digest": "in2",
                                "docked": 0
                            },
                            {
                                "name": "in3",
                                "type": "auto",
                                "digest": "in3",
                                "docked": 0
                            },
                            {
                                "name": "in4",
                                "type": "auto",
                                "digest": "in4",
                                "docked": 0
                            }
                        ],
                        "outputs": [],
                        "helpname": "codebox~",
                        "aliasOf": "expr~",
                        "classname": "codebox~",
                        "operator": 0,
                        "versionId": 527839773,
                        "changesPatcherIO": 0
                    }
                }
            },
            {
                "box": {
                    "id": "obj-11",
                    "maxclass": "newobj",
                    "numinlets": 2,
                    "numoutlets": 3,
                    "outlettype": [ "signal", "signal", "signal" ],
                    "patching_rect": [ 56.0, 96.0, 182.0, 23.0 ],
                    "rnbo_classname": "fftstream~",
                    "rnbo_extra_attributes": {
                        "win_bufname": "RNBODefaultFftWindow",
                        "phase": 0
                    },
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "fftstream~_obj-11",
                    "text": "fftstream~ #1 #1 @window hann"
                }
            },
            {
                "box": {
                    "id": "obj-3",
                    "maxclass": "newobj",
                    "numinlets": 0,
                    "numoutlets": 1,
                    "outlettype": [ "signal" ],
                    "patching_rect": [ 56.0, 26.0, 35.0, 23.0 ],
                    "rnbo_classname": "in~",
                    "rnbo_extra_attributes": {
                        "meta": "",
                        "comment": ""
                    },
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "in~_obj-3",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "out1": {
                                "attrOrProp": 1,
                                "digest": "signal from inlet with index 1",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 0,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "outlet": 1,
                                "type": "signal"
                            },
                            "index": {
                                "attrOrProp": 2,
                                "digest": "inlet number",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "mandatory": 1
                            },
                            "comment": {
                                "attrOrProp": 2,
                                "digest": "mouse over comment",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol"
                            },
                            "meta": {
                                "attrOrProp": 2,
                                "digest": "A JSON formatted string containing metadata for use by the exported code",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "defaultValue": "",
                                "label": "Metadata",
                                "displayorder": 3
                            }
                        },
                        "inputs": [],
                        "outputs": [
                            {
                                "name": "out1",
                                "type": "signal",
                                "digest": "signal from inlet with index 1",
                                "displayName": "",
                                "docked": 0
                            }
                        ],
                        "helpname": "in~",
                        "aliasOf": "in~",
                        "classname": "in~",
                        "operator": 0,
                        "versionId": -1654556303,
                        "changesPatcherIO": 1
                    },
                    "text": "in~ 1"
                }
            },
            {
                "box": {
                    "id": "obj-33",
                    "maxclass": "flonum",
                    "numinlets": 1,
                    "numoutlets": 2,
                    "outlettype": [ "", "bang" ],
                    "parameter_enable": 0,
                    "patching_rect": [ 219.0, 821.0, 76.0, 23.0 ],
                    "rnbo_classname": "number",
                    "rnbo_extra_attributes": {
                        "minimum": "<none>",
                        "initialFormat": "float",
                        "preset": 0,
                        "maximum": "<none>",
                        "order": ""
                    },
                    "rnbo_serial": 4,
                    "rnbo_uniqueid": "number_obj-33"
                }
            },
            {
                "box": {
                    "id": "obj-26",
                    "maxclass": "flonum",
                    "numinlets": 1,
                    "numoutlets": 2,
                    "outlettype": [ "", "bang" ],
                    "parameter_enable": 0,
                    "patching_rect": [ 127.0, 821.0, 50.0, 23.0 ],
                    "rnbo_classname": "number",
                    "rnbo_extra_attributes": {
                        "minimum": "<none>",
                        "initialFormat": "float",
                        "preset": 0,
                        "maximum": "<none>",
                        "order": ""
                    },
                    "rnbo_serial": 5,
                    "rnbo_uniqueid": "number_obj-26"
                }
            },
            {
                "box": {
                    "id": "obj-19",
                    "maxclass": "flonum",
                    "numinlets": 1,
                    "numoutlets": 2,
                    "outlettype": [ "", "bang" ],
                    "parameter_enable": 0,
                    "patching_rect": [ 35.0, 821.0, 50.0, 23.0 ],
                    "rnbo_classname": "number",
                    "rnbo_extra_attributes": {
                        "minimum": "<none>",
                        "initialFormat": "float",
                        "preset": 0,
                        "maximum": "<none>",
                        "order": ""
                    },
                    "rnbo_serial": 6,
                    "rnbo_uniqueid": "number_obj-19"
                }
            },
            {
                "box": {
                    "id": "obj-30",
                    "maxclass": "button",
                    "numinlets": 1,
                    "numoutlets": 1,
                    "outlettype": [ "bang" ],
                    "parameter_enable": 0,
                    "patching_rect": [ 35.0, 737.0, 24.0, 24.0 ],
                    "rnbo_classname": "button",
                    "rnbo_serial": 3,
                    "rnbo_uniqueid": "button_obj-30"
                }
            },
            {
                "box": {
                    "id": "obj-22",
                    "maxclass": "newobj",
                    "numinlets": 1,
                    "numoutlets": 3,
                    "outlettype": [ "", "", "" ],
                    "patching_rect": [ 35.0, 779.0, 237.0, 23.0 ],
                    "rnbo_classname": "data",
                    "rnbo_extra_attributes": {
                        "file": "",
                        "meta": "",
                        "type": "",
                        "samplerate": 0.0,
                        "preset": 0,
                        "fill": ""
                    },
                    "rnbo_serial": 1,
                    "rnbo_uniqueid": "data_obj-22",
                    "rnboinfo": {
                        "needsInstanceInfo": 1,
                        "argnames": {
                            "info": {
                                "attrOrProp": 1,
                                "digest": "Bang to report buffer information.",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 0,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "inlet": 1,
                                "type": "bang"
                            },
                            "sizeout": {
                                "attrOrProp": 1,
                                "digest": "Size in Samples",
                                "defaultarg": 2,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 0,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "outlet": 1,
                                "type": "number",
                                "defaultValue": "0"
                            },
                            "chanout": {
                                "attrOrProp": 1,
                                "digest": "Number of Channels",
                                "isalias": 0,
                                "aliases": [],
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "outlet": 1,
                                "type": "number",
                                "defaultValue": "0"
                            },
                            "srout": {
                                "attrOrProp": 1,
                                "digest": "Sample rate",
                                "isalias": 0,
                                "aliases": [],
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "outlet": 1,
                                "type": "number",
                                "defaultValue": "0"
                            },
                            "size": {
                                "attrOrProp": 1,
                                "digest": "Size in Samples. Take care when setting, allocation might block audio processing.",
                                "defaultarg": 2,
                                "isalias": 0,
                                "aliases": [ "samples" ],
                                "settable": 1,
                                "attachable": 1,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "0"
                            },
                            "samples": {
                                "attrOrProp": 1,
                                "digest": "Size in Samples. Take care when setting, allocation might block audio processing.",
                                "defaultarg": 2,
                                "isalias": 1,
                                "aliasOf": "size",
                                "aliases": [],
                                "settable": 1,
                                "attachable": 1,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "0"
                            },
                            "sizems": {
                                "attrOrProp": 1,
                                "digest": "Size in Milliseconds. Take care when setting, allocation might block audio processing.",
                                "isalias": 0,
                                "aliases": [ "ms" ],
                                "settable": 1,
                                "attachable": 1,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "0"
                            },
                            "ms": {
                                "attrOrProp": 1,
                                "digest": "Size in Milliseconds. Take care when setting, allocation might block audio processing.",
                                "isalias": 1,
                                "aliasOf": "sizems",
                                "aliases": [],
                                "settable": 1,
                                "attachable": 1,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "0"
                            },
                            "clear": {
                                "attrOrProp": 1,
                                "digest": "Clear the contents of the buffer",
                                "isalias": 0,
                                "aliases": [],
                                "attachable": 1,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bang"
                            },
                            "normalize": {
                                "attrOrProp": 1,
                                "digest": "Find Maximum and normalize to the value given.",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 1,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "0.995"
                            },
                            "channels": {
                                "attrOrProp": 1,
                                "digest": "Change channel count. Take care when setting, allocation might block audio processing.",
                                "defaultarg": 3,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 1,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "1"
                            },
                            "name": {
                                "attrOrProp": 2,
                                "digest": "Name of the data buffer",
                                "defaultarg": 1,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "mandatory": 1
                            },
                            "file": {
                                "attrOrProp": 2,
                                "digest": "File name/path or URL to load into buffer.",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol"
                            },
                            "type": {
                                "attrOrProp": 2,
                                "digest": "Type of Data (float32, float64)",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol"
                            },
                            "samplerate": {
                                "attrOrProp": 2,
                                "digest": "Sample rate",
                                "defaultarg": 4,
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "number",
                                "defaultValue": "0"
                            },
                            "fill": {
                                "attrOrProp": 2,
                                "digest": "Fill expression, this could be a value, or a simple function like sin(x), where x will run from 0 to 1 to fill the buffer.",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol"
                            },
                            "external": {
                                "attrOrProp": 2,
                                "digest": "Await data from the outside world.",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bool",
                                "doNotShowInMaxInspector": 1
                            },
                            "preset": {
                                "attrOrProp": 2,
                                "digest": "Add this value to the preset.",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "bool",
                                "defaultValue": "false",
                                "label": "Include In Preset",
                                "category": "Preset"
                            },
                            "meta": {
                                "attrOrProp": 2,
                                "digest": "A JSON formatted string containing metadata for use by the exported code",
                                "isalias": 0,
                                "aliases": [],
                                "settable": 1,
                                "attachable": 0,
                                "isparam": 0,
                                "deprecated": 0,
                                "touched": 0,
                                "type": "symbol",
                                "defaultValue": "",
                                "label": "Metadata"
                            }
                        },
                        "inputs": [
                            {
                                "name": "info",
                                "type": "bang",
                                "digest": "Bang to report buffer information.",
                                "hot": 1,
                                "docked": 0
                            }
                        ],
                        "outputs": [
                            {
                                "name": "sizeout",
                                "type": "number",
                                "digest": "Size in Samples",
                                "defaultarg": 2,
                                "docked": 0
                            },
                            {
                                "name": "chanout",
                                "type": "number",
                                "digest": "Number of Channels",
                                "docked": 0
                            },
                            {
                                "name": "srout",
                                "type": "number",
                                "digest": "Sample rate",
                                "docked": 0
                            }
                        ],
                        "helpname": "buffer~",
                        "aliasOf": "data",
                        "classname": "data",
                        "operator": 0,
                        "versionId": -72996304,
                        "changesPatcherIO": 0
                    },
                    "text": "data local:fftbuf_1 @size 2048 @channels 1"
                }
            }
        ],
        "lines": [
            {
                "patchline": {
                    "destination": [ "obj-2", 1 ],
                    "source": [ "obj-1", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-74", 0 ],
                    "source": [ "obj-10", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-32", 0 ],
                    "source": [ "obj-107", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-107", 0 ],
                    "source": [ "obj-108", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-32", 2 ],
                    "midpoints": [ 228.5, 165.0, 436.1666666666667, 165.0 ],
                    "source": [ "obj-11", 2 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-32", 1 ],
                    "midpoints": [ 147.0, 165.0, 250.83333333333334, 165.0 ],
                    "source": [ "obj-11", 1 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-32", 0 ],
                    "midpoints": [ 65.5, 151.0, 65.5, 151.0 ],
                    "source": [ "obj-11", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-28", 0 ],
                    "source": [ "obj-12", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-32", 3 ],
                    "source": [ "obj-13", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-13", 0 ],
                    "source": [ "obj-14", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-18", 0 ],
                    "source": [ "obj-15", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-23", 0 ],
                    "source": [ "obj-16", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-16", 0 ],
                    "source": [ "obj-17", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-49", 1 ],
                    "source": [ "obj-18", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-18", 0 ],
                    "source": [ "obj-20", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-19", 0 ],
                    "source": [ "obj-22", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-26", 0 ],
                    "source": [ "obj-22", 1 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-33", 0 ],
                    "source": [ "obj-22", 2 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-20", 0 ],
                    "order": 1,
                    "source": [ "obj-23", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-21", 0 ],
                    "order": 0,
                    "source": [ "obj-23", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-27", 0 ],
                    "order": 1,
                    "source": [ "obj-23", 1 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-29", 0 ],
                    "order": 0,
                    "source": [ "obj-23", 1 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-6", 0 ],
                    "source": [ "obj-28", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-31", 0 ],
                    "source": [ "obj-29", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-11", 0 ],
                    "source": [ "obj-3", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-22", 0 ],
                    "source": [ "obj-30", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-28", 1 ],
                    "order": 1,
                    "source": [ "obj-31", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-34", 0 ],
                    "order": 0,
                    "source": [ "obj-31", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-1", 0 ],
                    "source": [ "obj-4", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-6", 0 ],
                    "source": [ "obj-49", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-103", 0 ],
                    "order": 0,
                    "source": [ "obj-5", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-92", 0 ],
                    "order": 1,
                    "source": [ "obj-5", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-49", 0 ],
                    "source": [ "obj-50", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-8", 0 ],
                    "order": 1,
                    "source": [ "obj-6", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-9", 0 ],
                    "order": 0,
                    "source": [ "obj-6", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-50", 0 ],
                    "source": [ "obj-68", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-10", 0 ],
                    "source": [ "obj-69", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-75", 0 ],
                    "source": [ "obj-74", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-6", 0 ],
                    "source": [ "obj-75", 0 ]
                }
            },
            {
                "patchline": {
                    "destination": [ "obj-6", 0 ],
                    "source": [ "obj-92", 0 ]
                }
            }
        ]
    }
}